import{S as h,N as g,K as b,a as x,i as P,b as T}from"./assets/vendor-znorpUcV.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".menu-toggle"),s=document.querySelector(".menu-mobile .menu-close"),o=document.querySelector(".menu-mobile"),r=document.querySelector(".menu-desktop"),t=document.querySelector(".menu-overlay"),i=document.querySelectorAll(".navigation-link"),a=document.querySelectorAll(".order-button"),c=document.body;let n=!1;function p(){n?(window.innerWidth<768?(o.classList.remove("active"),t.classList.remove("active"),setTimeout(()=>{t.style.display="none"},300),c.style.overflow=""):r.classList.remove("active"),n=!1):(window.innerWidth<768?(o.classList.add("active"),t.style.display="block",t.classList.add("active"),c.style.overflow="hidden"):r.classList.add("active"),n=!0)}function y(){n&&(o.classList.remove("active"),r.classList.remove("active"),t.classList.remove("active"),setTimeout(()=>{t.style.display="none"},300),c.style.overflow="",n=!1)}function E(f){const d=document.querySelector(f);d&&(y(),setTimeout(()=>{window.scrollTo({top:d.offsetTop,behavior:"smooth"})},300))}e.addEventListener("click",p),s.addEventListener("click",y),t.addEventListener("click",y),i.forEach(f=>{f.addEventListener("click",function(d){d.preventDefault();const w=this.getAttribute("href");E(w)})}),a.forEach(f=>{f.addEventListener("click",function(d){d.preventDefault();const w=this.getAttribute("href");E(w)})}),window.addEventListener("resize",function(){n&&y()})});const A=new h(".swiper-about",{modules:[g,b],spaceBetween:0,loop:!0,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next-about"},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}},on:{init:S,slideChangeTransitionEnd:S}});function S(){document.querySelectorAll(".swiper-slide-about").forEach(s=>{s.style.backgroundColor=""});const e=document.querySelector(".swiper-slide-active");e&&(e.style.backgroundColor="#c6e327")}A.init();document.querySelectorAll(".accordion-item-about").forEach((e,s,o)=>{const r=e.querySelector(".accordion-header-about"),t=e.querySelector(".accordion-content-about"),i=r.querySelector(".about-icon-accordion");s===0?(e.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",t.style.opacity="1",t.style.visibility="visible",i.style.transform="rotate(180deg)"):(t.style.maxHeight="0",t.style.opacity="0",t.style.visibility="hidden"),r.addEventListener("click",()=>{const a=e.classList.contains("active");o.forEach(c=>{if(c!==e&&c.classList.contains("active")){const n=c.querySelector(".accordion-content-about"),p=c.querySelector(".about-icon-accordion");c.classList.remove("active"),n.style.maxHeight="0",n.style.opacity="0",setTimeout(()=>{n.style.visibility="hidden"},300),p.style.transform="rotate(0deg)"}}),a?(e.classList.remove("active"),t.style.maxHeight="0",t.style.opacity="0",setTimeout(()=>{t.style.visibility="hidden"},300),i.style.transform="rotate(0deg)"):(e.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px",t.style.opacity="1",t.style.visibility="visible",i.style.transform="rotate(180deg)")})});new h(".projects-swiper",{modules:[g,b],loop:!1,spaceBetween:20,slidesPerView:1,navigation:{nextEl:".projects-swiper-button-next",prevEl:".projects-swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0}});function B(e){for(let s=e.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[e[s],e[o]]=[e[o],e[s]]}return e}const H=document.querySelectorAll(".marquee__inner");H.forEach(e=>{const s=Array.from(e.children),o=B(s);e.innerHTML="",o.forEach(r=>{e.appendChild(r)})});const u={sliderContainer:document.querySelector(".swiper-wrapper-reviews"),slider:document.querySelector(".swiper-reviews"),reviewsSection:document.querySelector("#reviews"),btnBlock:document.querySelector(".btn-wrapper-reviews")},V="https://portfolio-js.b.goit.study/api",N="/reviews",O=async()=>{try{return(await x.get(V+N)).data}catch{return D(),null}},I=()=>{u.sliderContainer.innerHTML='<li class="swiper-placeholder">Not found</li>',u.slider.classList.remove("swiper-reviews"),u.btnBlock.classList.add("hidden-btn"),u.reviewsSection.style.paddingBottom="64px"},j=()=>{P.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"bottomRight",timeout:4e3})},D=()=>{const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&(j(),e.disconnect())})},{threshold:.5});e.observe(u.reviewsSection)},R=e=>e.map(({author:s,avatar_url:o,review:r})=>`
    <li class="reviews-card swiper-slide">
        <img class="reviews-img" src="${o}" alt="${s}" />
        <h3 class="reviews-title">${s}</h3>
        <p class="reviews-text">${r}</p>
      </li>
  `).join(""),q=()=>{const e=document.querySelectorAll(".reviews-card");e.forEach(o=>o.style.height="auto");const s=Math.max(...Array.from(e,o=>o.offsetHeight));e.forEach(o=>o.style.height=`${s}px`)},$=async()=>{const e=await O();if(!e||e.length===0){I();return}u.sliderContainer.innerHTML=R(e),new h(".swiper-reviews",{modules:[g,b],slidesPerView:1,spaceBetween:16,speed:500,grabCursor:!0,navigation:{nextEl:".reviews-btn-next",prevEl:".reviews-btn-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}},on:{init:q,slideChange:q}})};$();document.querySelector(".title-modal");document.querySelector(".text-modal");function K(e){const s=document.getElementById(e);if(!s){iziToast.error({title:"Modal not found:",message:e,position:"center",timeout:1e4});return}s.style.display="flex",document.body.style.overflow="hidden",document.addEventListener("keydown",k),document.addEventListener("click",C)}function L(){const e=document.getElementById("footer-modal");e&&(e.style.display="none",document.body.style.overflow="",document.removeEventListener("keydown",k),document.removeEventListener("click",C))}function k(e){e.key==="Escape"&&L()}function C(e){e.target.id==="footer-modal"&&L()}document.getElementById("close-btn").addEventListener("click",L);const _={form:document.querySelector(".contact-form"),email:document.querySelector(".email"),message:document.querySelector(".message")},{form:v,email:l,message:m}=_,z=x.create({baseURL:"https://portfolio-js.b.goit.study/api"});v.addEventListener("submit",async e=>{e.preventDefault();const s=v.elements.email.value.trim(),o=v.elements.comments.value.trim(),r=await F(s,o);r.status===201?(K(r.data),v.reset(),M()):T.fire({title:"Sorry, an error occurred",text:"Please, correct the data and try again!",color:"#fafafa",background:"#636061",width:"300px",timer:4e3,timerProgressBar:!0,customClass:{confirmButton:"custom-ok-button",popup:"custom-swal"}})});async function F(e,s){let o;try{o=await z.post("/requests",{email:e,comment:s})}catch(r){console.log(r),o=r}return o}l.addEventListener("input",function(){l.value.length>0?l.validity.valid?(l.classList.remove("error"),l.classList.add("success"),m.textContent="Success!",m.className="message success-text"):(l.classList.remove("success"),l.classList.add("error"),m.textContent="Invalid email, try again",m.className="message error-text"):M()});function M(){l.value="",l.classList.remove("success","error"),m.textContent="",m.className="message"}
//# sourceMappingURL=index.js.map
