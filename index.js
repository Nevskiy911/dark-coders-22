import{S as w,N as h,K as g,a as q,i as P,b as T}from"./assets/vendor-znorpUcV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".menu-toggle"),t=document.querySelector(".menu-mobile .menu-close"),o=document.querySelector(".menu-mobile"),s=document.querySelector(".menu-desktop"),r=document.querySelector(".menu-overlay"),i=document.querySelectorAll(".navigation-link"),u=document.querySelectorAll(".order-button"),v=document.body;let c=!1;function M(){c?(window.innerWidth<768?(o.classList.remove("active"),r.classList.remove("active"),setTimeout(()=>{r.style.display="none"},300),v.style.overflow=""):s.classList.remove("active"),c=!1):(window.innerWidth<768?(o.classList.add("active"),r.style.display="block",r.classList.add("active"),v.style.overflow="hidden"):s.classList.add("active"),c=!0)}function f(){c&&(o.classList.remove("active"),s.classList.remove("active"),r.classList.remove("active"),setTimeout(()=>{r.style.display="none"},300),v.style.overflow="",c=!1)}function L(m){const l=document.querySelector(m);l&&(f(),setTimeout(()=>{window.scrollTo({top:l.offsetTop,behavior:"smooth"})},300))}e.addEventListener("click",M),t.addEventListener("click",f),r.addEventListener("click",f),i.forEach(m=>{m.addEventListener("click",function(l){l.preventDefault();const p=this.getAttribute("href");L(p)})}),u.forEach(m=>{m.addEventListener("click",function(l){l.preventDefault();const p=this.getAttribute("href");L(p)})}),window.addEventListener("resize",function(){c&&f()})});const A=new w(".swiper-about",{modules:[h,g],spaceBetween:0,loop:!0,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next-about"},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}},on:{init:E,slideChangeTransitionEnd:E}});function E(){document.querySelectorAll(".swiper-slide-about").forEach(t=>{t.style.backgroundColor=""});const e=document.querySelector(".swiper-slide-active");e&&(e.style.backgroundColor="#c6e327")}A.init();document.querySelectorAll(".accordion-item-about").forEach((e,t)=>{const o=e.querySelector(".accordion-header-about"),s=e.querySelector(".accordion-content-about"),r=o.querySelector(".about-icon-accordion");t===0?(e.classList.add("active"),s.style.maxHeight=s.scrollHeight+"px",s.style.opacity="1",s.style.visibility="visible",r.style.transform="rotate(180deg)"):(s.style.maxHeight="0",s.style.opacity="0",s.style.visibility="hidden"),o.addEventListener("click",()=>{e.classList.contains("active")?(e.classList.remove("active"),s.style.maxHeight="0",s.style.opacity="0",setTimeout(()=>{s.style.visibility="hidden"},300),r.style.transform="rotate(0deg)"):(e.classList.add("active"),s.style.maxHeight=s.scrollHeight+"px",s.style.opacity="1",s.style.visibility="visible",r.style.transform="rotate(180deg)")})});new w(".projects-swiper",{modules:[h,g],loop:!1,spaceBetween:20,slidesPerView:1,navigation:{nextEl:".projects-swiper-button-next",prevEl:".projects-swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0}});function B(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}const V=document.querySelectorAll(".marquee__inner");V.forEach(e=>{const t=Array.from(e.children),o=B(t);e.innerHTML="",o.forEach(s=>{e.appendChild(s)})});const a={sliderContainer:document.querySelector(".swiper-wrapper-reviews"),slider:document.querySelector(".swiper-reviews"),reviewsSection:document.querySelector("#reviews"),btnBlock:document.querySelector(".btn-wrapper-reviews")},H="https://portfolio-js.b.goit.study/api",I="/reviews",N=async()=>{try{return(await q.get(H+I)).data}catch{return D(),null}},O=()=>{a.sliderContainer.innerHTML='<li class="swiper-placeholder">Not found</li>',a.slider.classList.remove("swiper-reviews"),a.btnBlock.classList.add("hidden-btn"),a.reviewsSection.style.paddingBottom="64px"},j=()=>{P.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"bottomRight",timeout:4e3})},D=()=>{const e=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&(j(),e.disconnect())})},{threshold:.5});e.observe(a.reviewsSection)},R=e=>e.map(({author:t,avatar_url:o,review:s})=>`
    <li class="reviews-card swiper-slide">
        <img class="reviews-img" src="${o}" alt="${t}" />
        <h3 class="reviews-title">${t}</h3>
        <p class="reviews-text">${s}</p>
      </li>
  `).join(""),S=()=>{const e=document.querySelectorAll(".reviews-card");e.forEach(o=>o.style.height="auto");const t=Math.max(...Array.from(e,o=>o.offsetHeight));e.forEach(o=>o.style.height=`${t}px`)},$=async()=>{const e=await N();if(!e||e.length===0){O();return}a.sliderContainer.innerHTML=R(e),new w(".swiper-reviews",{modules:[h,g],slidesPerView:1,spaceBetween:16,speed:500,grabCursor:!0,navigation:{nextEl:".reviews-btn-next",prevEl:".reviews-btn-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}},on:{init:S,slideChange:S}})};$();document.querySelector(".title-modal");document.querySelector(".text-modal");function K(e){const t=document.getElementById(e);if(!t){iziToast.error({title:"Modal not found:",message:e,position:"center",timeout:1e4});return}t.style.display="flex",document.body.style.overflow="hidden",document.addEventListener("keydown",x),document.addEventListener("click",k)}function b(){const e=document.getElementById("footer-modal");e&&(e.style.display="none",document.body.style.overflow="",document.removeEventListener("keydown",x),document.removeEventListener("click",k))}function x(e){e.key==="Escape"&&b()}function k(e){e.target.id==="footer-modal"&&b()}document.getElementById("close-btn").addEventListener("click",b);const _={form:document.querySelector(".contact-form"),email:document.querySelector(".email"),message:document.querySelector(".message")},{form:y,email:n,message:d}=_,z=q.create({baseURL:"https://portfolio-js.b.goit.study/api"});y.addEventListener("submit",async e=>{e.preventDefault();const t=y.elements.email.value.trim(),o=y.elements.comments.value.trim(),s=await F(t,o);s.status===201?(K(s.data),y.reset(),C()):T.fire({title:"Sorry, an error occurred",text:"Please, correct the data and try again!",color:"#fafafa",background:"#636061",width:"300px",timer:4e3,timerProgressBar:!0,customClass:{confirmButton:"custom-ok-button",popup:"custom-swal"}})});async function F(e,t){let o;try{o=await z.post("/requests",{email:e,comment:t})}catch(s){console.log(s),o=s}return o}n.addEventListener("input",function(){n.value.length>0?n.validity.valid?(n.classList.remove("error"),n.classList.add("success"),d.textContent="Success!",d.className="message success-text"):(n.classList.remove("success"),n.classList.add("error"),d.textContent="Invalid email, try again",d.className="message error-text"):C()});function C(){n.value="",n.classList.remove("success","error"),d.textContent="",d.className="message"}
//# sourceMappingURL=index.js.map
